{"ast":null,"code":"var _jsxFileName = \"E:\\\\WebFrontEnd\\\\react-next\\\\pages\\\\router\\\\index.js\";\nimport Link from 'next/link';\nimport Router from 'next/router';\nimport { withRouter } from 'next/router';\nimport React from 'react';\nvar data = [{\n  id: 10086,\n  name: \"LOL\"\n}, {\n  id: 655,\n  name: \"Girl\"\n}]; // 报错：只能在客户端使用\n// Router.beforePopState(({ url, as, options }) => {\n//     if(url !== '/') {\n//         window.location.href = as;\n//         alert('不是主页');\n//         return false;\n//     }\n//     return true;\n// });\n\nvar TestLink = function TestLink(_ref) {\n  var data = _ref.data;\n  return React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 27\n    },\n    __self: this\n  }, React.createElement(Link, {\n    as: \"/router/test/\".concat(data.id),\n    href: \"/router/test?q=\".concat(data.name),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 29\n    },\n    __self: this\n  }, React.createElement(\"a\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 30\n    },\n    __self: this\n  }, \"Link to \", data.name, \" Page\")));\n};\n\nvar OtherLink = function OtherLink(_ref2) {\n  var data = _ref2.data;\n  return React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36\n    },\n    __self: this\n  }, React.createElement(Link, {\n    href: \"/router/other?title=\".concat(data.name),\n    replace: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38\n    },\n    __self: this\n  }, React.createElement(\"a\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39\n    },\n    __self: this\n  }, \"Other Link to \", data.name, \" Page\")));\n};\n\nvar Index = function Index(_ref3) {\n  var router = _ref3.router;\n  return React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44\n    },\n    __self: this\n  }, React.createElement(Link, {\n    as: \"/head/666\",\n    href: \"/head\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45\n    },\n    __self: this\n  }, React.createElement(\"a\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46\n    },\n    __self: this\n  }, \"\\u62E6\\u622Apopstate\\u6D4B\\u8BD5\")), React.createElement(Link, {\n    href: \"/router/prefetch\",\n    prefetch: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50\n    },\n    __self: this\n  }, React.createElement(\"a\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51\n    },\n    __self: this\n  }, \"\\u9884\\u52A0\\u8F7D\\u9875\\u9762\")), router.prefetch('/prefetch'), React.createElement(\"button\", {\n    onClick: function onClick() {\n      return Router.push('/prefetch');\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54\n    },\n    __self: this\n  }, \"\\u53E6\\u4E00\\u79CD\\u9884\\u52A0\\u8F7D\\u9875\\u9762\"), React.createElement(\"button\", {\n    onClick: function onClick() {\n      return Router.push('/css');\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55\n    },\n    __self: this\n  }, \"\\u8DEF\\u7531\\u8DF3\\u8F6C\"), React.createElement(\"button\", {\n    onClick: function onClick() {\n      return Router.push({\n        pathname: '/router/other',\n        query: {\n          title: 'sleepyyyyyyyyyy'\n        }\n      });\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56\n    },\n    __self: this\n  }, \"\\u8DEF\\u7531\\u4F20\\u53C2\\u8DF3\\u8F6C\"), React.createElement(Link, {\n    href: \"/\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62\n    },\n    __self: this\n  }, React.createElement(\"img\", {\n    src: \"static/jojo.png\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63\n    },\n    __self: this\n  })), data.map(function (item) {\n    return React.createElement(TestLink, {\n      key: item.id,\n      data: item,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66\n      },\n      __self: this\n    });\n  }), data.map(function (item) {\n    return React.createElement(OtherLink, {\n      key: item.id,\n      data: item,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69\n      },\n      __self: this\n    });\n  }));\n};\n\nexport default withRouter(Index);","map":{"version":3,"sources":["E:\\WebFrontEnd\\react-next\\pages\\router\\index.js"],"names":["Link","Router","withRouter","React","data","id","name","TestLink","OtherLink","Index","router","prefetch","push","pathname","query","title","map","item"],"mappings":"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","sourcesContent":["import Link from 'next/link';\r\nimport Router from 'next/router';\r\nimport { withRouter } from 'next/router';\r\nimport React from 'react';\r\nconst data = [\r\n    {\r\n        id: 10086,\r\n        name: \"LOL\"\r\n    },\r\n    {\r\n        id: 655,\r\n        name: \"Girl\"\r\n    }\r\n];\r\n\r\n// 报错：只能在客户端使用\r\n// Router.beforePopState(({ url, as, options }) => {\r\n//     if(url !== '/') {\r\n//         window.location.href = as;\r\n//         alert('不是主页');\r\n//         return false;\r\n//     }\r\n//     return true;\r\n// });\r\n\r\nconst TestLink = ({data}) => (\r\n    <div>\r\n        {/* Link标签必须包含唯一根元素,否则报错 */}\r\n        <Link as={`/router/test/${data.id}`} href={`/router/test?q=${data.name}`}>\r\n            <a>Link to { data.name } Page</a>\r\n        </Link>\r\n    </div>\r\n);\r\n\r\nconst OtherLink = ({data}) => (\r\n    <div>\r\n        {/* replace作用是替换浏览器历史堆栈中栈顶的URL,Link组件默认行为是入栈 */}\r\n        <Link href={`/router/other?title=${data.name}`} replace>\r\n            <a>Other Link to { data.name } Page</a>\r\n        </Link>\r\n    </div>\r\n);\r\nconst Index = ({ router }) => (\r\n    <div>\r\n        <Link as=\"/head/666\" href=\"/head\">\r\n            <a>\r\n                拦截popstate测试\r\n            </a>\r\n        </Link>\r\n        <Link href=\"/router/prefetch\" prefetch>\r\n            <a>预加载页面</a>\r\n        </Link>\r\n        { router.prefetch('/prefetch') }\r\n        <button onClick={() => Router.push('/prefetch')}>另一种预加载页面</button>\r\n        <button onClick={() => Router.push('/css')}>路由跳转</button>\r\n        <button onClick={() => Router.push({\r\n            pathname: '/router/other',\r\n            query: { title: 'sleepyyyyyyyyyy' }\r\n        })}>\r\n            路由传参跳转\r\n        </button>\r\n        <Link href=\"/\">\r\n            <img src=\"static/jojo.png\" />\r\n        </Link>\r\n        { data.map(item => (\r\n            <TestLink key={item.id} data={item} />\r\n        )) }\r\n        { data.map(item => (\r\n            <OtherLink key={item.id} data={item} />\r\n        )) }\r\n    </div>\r\n);\r\n\r\nexport default withRouter(Index);"]},"metadata":{},"sourceType":"module"}