{"ast":null,"code":"import React from \"react\";\nimport Link from 'next/link';\nimport Router from 'next/router';\nvar data = [{\n  id: 10086,\n  name: \"LOL\"\n}, {\n  id: 655,\n  name: \"Girl\"\n}];\nRouter.beforePopState(function (_ref) {\n  var url = _ref.url,\n      as = _ref.as,\n      options = _ref.options;\n\n  if (as != '/') {\n    window.location.href = as;\n    return false;\n  }\n\n  return true;\n});\n\nvar TestLink = function TestLink(_ref2) {\n  var data = _ref2.data;\n  return React.createElement(\"div\", null, React.createElement(Link, {\n    as: \"/router/test/\".concat(data.id),\n    href: \"/router/test?q=\".concat(data.name)\n  }, React.createElement(\"a\", null, \"Link to \", data.name, \" Page\")));\n};\n\nvar OtherLink = function OtherLink(_ref3) {\n  var data = _ref3.data;\n  return React.createElement(\"div\", null, React.createElement(Link, {\n    href: \"/router/other?title=\".concat(data.name),\n    replace: true\n  }, React.createElement(\"a\", null, \"Other Link to \", data.name, \" Page\")));\n};\n\nvar Index = function Index() {\n  return React.createElement(\"div\", null, React.createElement(Link, {\n    as: \"/head/666\",\n    href: \"/head\"\n  }, React.createElement(\"a\", null, \"\\u62E6\\u622Apopstate\\u6D4B\\u8BD5\")), React.createElement(\"button\", {\n    onClick: function onClick() {\n      return Router.push('/css');\n    }\n  }, \"\\u8DEF\\u7531\\u8DF3\\u8F6C\"), React.createElement(Link, {\n    href: \"/\"\n  }, React.createElement(\"img\", {\n    src: \"static/jojo.png\"\n  })), data.map(function (item) {\n    return React.createElement(TestLink, {\n      key: item.id,\n      data: item\n    });\n  }), data.map(function (item) {\n    return React.createElement(OtherLink, {\n      key: item.id,\n      data: item\n    });\n  }));\n};\n\nexport default Index;","map":{"version":3,"sources":["E:\\WebFrontEnd\\react-next\\pages\\router\\index.js"],"names":["Link","Router","data","id","name","beforePopState","url","as","options","window","location","href","TestLink","OtherLink","Index","push","map","item"],"mappings":";AAAA,OAAOA,IAAP,MAAiB,WAAjB;AACA,OAAOC,MAAP,MAAmB,aAAnB;AACA,IAAMC,IAAI,GAAG,CACT;AACIC,EAAAA,EAAE,EAAE,KADR;AAEIC,EAAAA,IAAI,EAAE;AAFV,CADS,EAKT;AACID,EAAAA,EAAE,EAAE,GADR;AAEIC,EAAAA,IAAI,EAAE;AAFV,CALS,CAAb;AAWAH,MAAM,CAACI,cAAP,CAAsB,gBAA0B;AAAA,MAAvBC,GAAuB,QAAvBA,GAAuB;AAAA,MAAlBC,EAAkB,QAAlBA,EAAkB;AAAA,MAAdC,OAAc,QAAdA,OAAc;;AAC5C,MAAGD,EAAE,IAAI,GAAT,EAAc;AACVE,IAAAA,MAAM,CAACC,QAAP,CAAgBC,IAAhB,GAAuBJ,EAAvB;AACA,WAAO,KAAP;AACH;;AACD,SAAO,IAAP;AACH,CAND;;AAQA,IAAMK,QAAQ,GAAG,SAAXA,QAAW;AAAA,MAAEV,IAAF,SAAEA,IAAF;AAAA,SACb,iCAEI,oBAAC,IAAD;AAAM,IAAA,EAAE,yBAAkBA,IAAI,CAACC,EAAvB,CAAR;AAAqC,IAAA,IAAI,2BAAoBD,IAAI,CAACE,IAAzB;AAAzC,KACI,2CAAaF,IAAI,CAACE,IAAlB,UADJ,CAFJ,CADa;AAAA,CAAjB;;AASA,IAAMS,SAAS,GAAG,SAAZA,SAAY;AAAA,MAAEX,IAAF,SAAEA,IAAF;AAAA,SACd,iCAEI,oBAAC,IAAD;AAAM,IAAA,IAAI,gCAAyBA,IAAI,CAACE,IAA9B,CAAV;AAAgD,IAAA,OAAO;AAAvD,KACI,iDAAmBF,IAAI,CAACE,IAAxB,UADJ,CAFJ,CADc;AAAA,CAAlB;;AAQA,IAAMU,KAAK,GAAG,SAARA,KAAQ;AAAA,SACV,iCACI,oBAAC,IAAD;AAAM,IAAA,EAAE,EAAC,WAAT;AAAqB,IAAA,IAAI,EAAC;AAA1B,KACI,kEADJ,CADJ,EAMI;AAAQ,IAAA,OAAO,EAAE;AAAA,aAAMb,MAAM,CAACc,IAAP,CAAY,MAAZ,CAAN;AAAA;AAAjB,gCANJ,EAOI,oBAAC,IAAD;AAAM,IAAA,IAAI,EAAC;AAAX,KACI;AAAK,IAAA,GAAG,EAAC;AAAT,IADJ,CAPJ,EAUMb,IAAI,CAACc,GAAL,CAAS,UAAAC,IAAI;AAAA,WACX,oBAAC,QAAD;AAAU,MAAA,GAAG,EAAEA,IAAI,CAACd,EAApB;AAAwB,MAAA,IAAI,EAAEc;AAA9B,MADW;AAAA,GAAb,CAVN,EAaMf,IAAI,CAACc,GAAL,CAAS,UAAAC,IAAI;AAAA,WACX,oBAAC,SAAD;AAAW,MAAA,GAAG,EAAEA,IAAI,CAACd,EAArB;AAAyB,MAAA,IAAI,EAAEc;AAA/B,MADW;AAAA,GAAb,CAbN,CADU;AAAA,CAAd;;AAoBA,eAAeH,KAAf","sourcesContent":["import Link from 'next/link';\r\nimport Router from 'next/router';\r\nconst data = [\r\n    {\r\n        id: 10086,\r\n        name: \"LOL\"\r\n    },\r\n    {\r\n        id: 655,\r\n        name: \"Girl\"\r\n    }\r\n];\r\n\r\nRouter.beforePopState(({ url, as, options }) => {\r\n    if(as != '/') {\r\n        window.location.href = as;\r\n        return false;\r\n    }\r\n    return true;\r\n});\r\n\r\nconst TestLink = ({data}) => (\r\n    <div>\r\n        {/* Link标签必须包含唯一根元素,否则报错 */}\r\n        <Link as={`/router/test/${data.id}`} href={`/router/test?q=${data.name}`}>\r\n            <a>Link to { data.name } Page</a>\r\n        </Link>\r\n    </div>\r\n);\r\n\r\nconst OtherLink = ({data}) => (\r\n    <div>\r\n        {/* replace作用是替换浏览器历史堆栈中栈顶的URL,Link组件默认行为是入栈 */}\r\n        <Link href={`/router/other?title=${data.name}`} replace>\r\n            <a>Other Link to { data.name } Page</a>\r\n        </Link>\r\n    </div>\r\n);\r\nconst Index = () => (\r\n    <div>\r\n        <Link as=\"/head/666\" href=\"/head\">\r\n            <a>\r\n                拦截popstate测试\r\n            </a>\r\n        </Link>\r\n        <button onClick={() => Router.push('/css')}>路由跳转</button>\r\n        <Link href=\"/\">\r\n            <img src=\"static/jojo.png\" />\r\n        </Link>\r\n        { data.map(item => (\r\n            <TestLink key={item.id} data={item} />\r\n        )) }\r\n        { data.map(item => (\r\n            <OtherLink key={item.id} data={item} />\r\n        )) }\r\n    </div>\r\n);\r\n\r\nexport default Index;"]},"metadata":{},"sourceType":"module"}